<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Home Page</title>

    <script type="text/javascript">
      function Upload() {
          var fileUpload = document.getElementById("fileUpload");
          var regex = /^([a-zA-Z0-9\s_\\.\-:])+(.csv|.txt)$/;
          if (regex.test(fileUpload.value.toLowerCase())) {
              if (typeof (FileReader) != "undefined") {
                  var reader = new FileReader();
                  reader.onload = function (e) {
                      var table = document.createElement("table");
                      //var array2 = new Array(3);
                      var rows = e.target.result.split("\n");
                      for (var i = 1; i < rows.length; i++) {
                          var cells = rows[i].split(",");
                          if (cells.length > 1) {
                              var row = table.insertRow(-1);
                              for (var j = 1; j < cells.length; j++) {
                                  var cell = row.insertCell(-1);
                                  console.log(row);
                                  cell.innerHTML = cells[j];
                              }
                          }
                      }
                      var dvCSV = document.getElementById("dvCSV");
                      dvCSV.innerHTML = "";
                      dvCSV.appendChild(table);
                      //console.log(table);
                  }
                  reader.readAsText(fileUpload.files[0]);
              } else {
                  alert("This browser does not support HTML5.");
              }
          } else {
              alert("Please upload a valid CSV file.");
          }
      }
  </script>
  <input type="file" id="fileUpload" />
  <input type="button" id="upload" value="Upload" onclick="Upload()" />
  <hr />
  <div id="dvCSV">
  </div>


  </head>
  <body>
    </<h1> This is blahhhhhh</h1>
    <<p> sfsdfds </p>
  </body>
</html>
